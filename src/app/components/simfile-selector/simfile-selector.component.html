<mat-drawer-container #folderDrawerContainer class="folder-container">
    <mat-drawer mode="side" opened disableClose="true">
        <mat-selection-list #simfileFolderSelect multiple="false"
            (selectionChange)="onSimfileFolderSelectionChange($event); folderDrawerContainer.updateContentMargins()">
            <mat-list-option *ngFor="let folder of simfileFolders" [value]="folder"
                [selected]="selectedSimfileFolder == folder">
                {{folder.title}}
                <span style="font-size: x-small;">{{folder.location}} ({{(folder.simfiles.length)}})</span>
            </mat-list-option>
        </mat-selection-list>
    </mat-drawer>
    <mat-drawer-content>
        <mat-drawer-container #simfileDrawerContainer class="simfile-container">
            <mat-drawer mode="side" opened disableClose="true">
                <mat-selection-list #simfileSelect multiple="false"
                    (selectionChange)="onSimfileSelectionChange($event); simfileDrawerContainer.updateContentMargins()">
                    <mat-list-option *ngFor="let simfile of simfilesInSelectedFolder" [value]="simfile"
                        [selected]="selectedSimfile == simfile">
                        {{simfile.titleTranslit || simfile.title}}
                        <span style="font-size: x-small;">{{simfile.artistTranslit || simfile.artist}}</span>
                    </mat-list-option>
                </mat-selection-list>
            </mat-drawer>
            <mat-drawer-content>
                <div *ngIf="selectedSimfile">
                    <button mat-raised-button (click)="playSelectedMode()">Play</button>
                    <button mat-raised-button [routerLink]="['/synchronizer', selectedSimfileFolder?.location, selectedSimfile.filename]">Sync</button>

                    <mat-selection-list #simfileModeSelect [multiple]="false"
                        (selectionChange)="onSimfileModeSelectionChange($event)" [compareWith]="getCompareWith()">
                        <mat-list-option *ngFor="let mode of selectedSimfile.modes" [value]="mode">
                            {{GameMode[mode.gameMode]}} -
                            {{GameModeType[mode.gameModeType]}} -
                            {{mode.meter}} -
                            {{Difficulty[mode.difficulty]}}
                            <span style="font-size: x-small;">{{mode.descAuthor}}</span>
                        </mat-list-option>
                    </mat-selection-list>

                    <mat-tab-group animationDuration="0ms" (selectedTabChange)="onVideoSelected($event)">
                        <mat-tab [label]="registryVideo.id" style="height: 300px;"
                            *ngFor="let registryVideo of selectedSimfile.youtubeVideos">
                            <ng-template matTabContent>
                                <div style="height: 100%; width: 750px;" #videoContainer>
                                    <ngx-y2-player #video [videoId]="registryVideo.id" [playerOptions]="playerOptions"
                                        [container]="videoContainer">
                                    </ngx-y2-player>
                                </div>
                            </ng-template>
                        </mat-tab>
                    </mat-tab-group>
                    <div class="p2">
                        <table>
                            <tr>
                                <th>Key</th>
                                <th>Value</th>
                            </tr>
                            <tr>
                                <td>filename</td>
                                <td>{{ selectedSimfile.filename }}</td>
                            </tr>
                            <tr>
                                <td>loaded</td>
                                <td>{{ selectedSimfile.loaded }}</td>
                            </tr>
                            <tr>
                                <td>title</td>
                                <td>{{ selectedSimfile.title }}</td>
                            </tr>
                            <tr>
                                <td>titleTranslit</td>
                                <td>{{ selectedSimfile.titleTranslit }}</td>
                            </tr>
                            <tr>
                                <td>subtitle</td>
                                <td>{{ selectedSimfile.subtitle }}</td>
                            </tr>
                            <tr>
                                <td>subtitleTranslit</td>
                                <td>{{ selectedSimfile.subtitleTranslit }}</td>
                            </tr>
                            <tr>
                                <td>artist</td>
                                <td>{{ selectedSimfile.artist }}</td>
                            </tr>
                            <tr>
                                <td>artistTranslit</td>
                                <td>{{ selectedSimfile.artistTranslit }}</td>
                            </tr>
                            <tr>
                                <td>credit</td>
                                <td>{{ selectedSimfile.credit }}</td>
                            </tr>
                            <tr>
                                <td>banner</td>
                                <td>{{ selectedSimfile.banner }}</td>
                            </tr>
                            <tr>
                                <td>background</td>
                                <td>{{ selectedSimfile.background }}</td>
                            </tr>
                            <tr>
                                <td>jacket</td>
                                <td>{{ selectedSimfile.jacket }}</td>
                            </tr>
                            <tr>
                                <td>lyricsPath</td>
                                <td>{{ selectedSimfile.lyricsPath }}</td>
                            </tr>
                            <tr>
                                <td>cdTitle</td>
                                <td>{{ selectedSimfile.cdTitle }}</td>
                            </tr>
                            <tr>
                                <td>music</td>
                                <td>{{ selectedSimfile.music }}</td>
                            </tr>
                            <tr>
                                <td>offset</td>
                                <td>{{ selectedSimfile.offset }}</td>
                            </tr>
                            <tr>
                                <td>sampleStart</td>
                                <td>{{ selectedSimfile.sampleStart }}</td>
                            </tr>
                            <tr>
                                <td>sampleLength</td>
                                <td>{{ selectedSimfile.sampleLength }}</td>
                            </tr>
                            <tr>
                                <td>selectable</td>
                                <td>{{ selectedSimfile.selectable }}</td>
                            </tr>
                            <tr>
                                <td>listSort</td>
                                <td>{{ selectedSimfile.listSort }}</td>
                            </tr>
                            <tr>
                                <td>bpms</td>
                                <td>{{ selectedSimfile.bpms }}</td>
                            </tr>
                            <tr>
                                <td>stops</td>
                                <td>{{ selectedSimfile.stops }}</td>
                            </tr>
                            <tr>
                                <td>tickCount</td>
                                <td>{{ selectedSimfile.tickCount }}</td>
                            </tr>
                            <tr>
                                <td>bgChanges</td>
                                <td>{{ selectedSimfile.bgChanges }}</td>
                            </tr>
                            <tr>
                                <td>keySounds</td>
                                <td>{{ selectedSimfile.keySounds }}</td>
                            </tr>
                            <tr>
                                <td>attacks</td>
                                <td>{{ selectedSimfile.attacks }}</td>
                            </tr>
                            <tr>
                                <td>
                                    youtube Videos
                                </td>
                                <td>
                                    <pre>{{ selectedSimfile.youtubeVideos | json }}</pre>
                                </td>
                            </tr>
                        </table>
                    </div>

                </div>
            </mat-drawer-content>
        </mat-drawer-container>
    </mat-drawer-content>
</mat-drawer-container>